<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <!-- bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>

    <!-- do not cache this page -->
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>


    <title>
      Bunco Dice Grid
    </title>

    <style>
      .row {
        margin-bottom: 30px;
      }
      img {
        width: 100%;
        max-width: 200px;
      }

      td, th {
        max-width: 200px;
        min-width: 50px;
        padding: 10px;
      }

    </style>

  </head>
  <body>
    <div class="container">

      <div class="row">
        <div class="col-md-12">
          <h1>Bunco Dice Grid</h1>
        </div>
      </div>


      <div class="row">
        <div class="col-md-3">
          Rows: <strong id="num-rows">3</strong><br><br>
          <div class="btn-group">
              <button class="btn btn-lg btn-default" onclick="dec_rows()">-</button>
              <button class="btn btn-lg btn-default" onclick="inc_rows()">+</button>
          </div>
          <br><br>
          Columns: <strong id="num-columns">3</strong><br><br>
          <div class="btn-group">
              <button class="btn btn-lg btn-default" onclick="dec_columns()">-</button>
              <button class="btn btn-lg btn-default" onclick="inc_columns()">+</button>
          </div>
        </div>
      </div>


      <div class="row">
        <div class="col-md-3">
          <button class="btn btn-block btn-lg btn-success" onclick="roll()">Roll!</button>
        </div>
      </div>


      <div class="row">
        <div class="col-md-12">

          <table class="table-bordered">
            <thead>
              <tr id="head-row">
                <th></th>
                <th id="1">1</th>
                <th id="2">2</th>
                <th id="3">3</th>
              </tr>
            </thead>
            <tbody id="tbody">
              <tr id="a">
                <th>a</th>
                <td id="a1"></td>
                <td id="a2"></td>
                <td id="a3"></td>
              </tr>
              <tr id="b">
                <th>b</th>
                <td id="b1"></td>
                <td id="b2"></td>
                <td id="b3"></td>
              </tr>
              <tr id="c">
                <th>c</th>
                <td id="c1"></td>
                <td id="c2"></td>
                <td id="c3"></td>
              </tr>
            </tbody>
          </table>

        </div>
      </div>





  <script>

    var columns = [1, 2, 3];
    var rows = ["a", "b", "c"];

    function roll () {
      for (r = 0; r < rows.length; r++) {
        for (c = 0; c < columns.length; c++) {
          var id = rows[r] + columns[c];
          var td = document.getElementById(id);
          var img = document.createElement("img");
          img.src = "img/roll-" + Math.floor((Math.random() * 6) + 1) + ".png";
          while(td.firstChild){
            td.removeChild(td.firstChild );
          }
          td.appendChild(img);
        }
      }
    }

    function inc_columns() {
      if (columns.length < 9) {
        var newMax = columns[columns.length - 1] + 1;
        columns.push(newMax);

        var th = document.createElement('th');
        th.appendChild(document.createTextNode(newMax));
        th.setAttribute('id',newMax);
        document.getElementById('head-row').appendChild(th);
        for (r = 0; r < rows.length; r++) {
          var letter = "abcdefghi"[r];
          var td = document.createElement('td');
          td.setAttribute('id',letter + newMax);
          document.getElementById(letter).appendChild(td);
        }
        document.getElementById('num-columns').innerHTML = columns.length;
      }
    }

    function inc_rows() {
      if (rows.length < 9) {
        var newMaxLetter = "abcdefghi"[rows.length];
        rows.push(newMaxLetter);

        var tr = document.createElement('tr');
        tr.setAttribute('id',newMaxLetter)
        var th = document.createElement('th');
        th.appendChild(document.createTextNode(newMaxLetter));
        tr.appendChild(th);
        th.innerHTML = newMaxLetter;
        for (c = 1; c <= columns.length; c++) {
          var td = document.createElement('td');
          td.setAttribute('id', newMaxLetter + c);
          tr.appendChild(td);
        }
        document.getElementById('tbody').appendChild(tr);
        document.getElementById('num-rows').innerHTML = rows.length;
      }
    }

    function dec_columns() {
      if (columns.length > 1) {

        head_row = document.getElementById('head-row');
        head_row.removeChild(document.getElementById(columns.length));

        for (r = 0; r < rows.length; r++) {
          var letter = "abcdefghi"[r];
          tr = document.getElementById(letter);
          tr.removeChild(document.getElementById(letter + columns.length));
        }

        columns.pop();

        document.getElementById('num-columns').innerHTML = columns.length;
      }
    }

    function dec_rows() {
      if (rows.length > 1) {

        tbody = document.getElementById('tbody');
        tbody.removeChild(document.getElementById(rows.pop()));

        document.getElementById('num-rows').innerHTML = rows.length;

      }
    }


  </script>

  </body>


</html>
